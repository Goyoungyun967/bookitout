<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>상세페이지</title>
<link rel="stylesheet" href="/css/detail.css">
    
<!-- jQuery CDN -->
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="/js/detail.js"></script>
</head>
<body>
	<th:block th:include="common/header"></th:block>
	
	<main class="content">
        <div class="inner">
            <div class="info-wrap">
                <div class="book">
                    <ul>
                        <li><h2>당신이 누군가를 죽였다</h2></li>
                        <li><p><span>히가시노 게이고 저자(글) · 최고은 번역</span> / <span>발행(출시)일자: 2024년 07월 23일</span></p></li>
                        <li>
                            <img src="/image/book-sample.jpg" alt="도서 이미지">
                        </li>
                    </ul>
                </div>
                <div class="info">
                    <div>
                        <span class="badge">무료배송</span>
                        <span class="badge">소득공제</span>
                    </div>
                    <div>
                        <h3>19,800원</h3>
                    </div>
                    <div>
                        <p>
                            <span class="left">배송안내</span>
                            <span class="right">무료배송</span>
                        </p>
                        <div class="clear"></div>
                        <P class="right">
                            <span class="badge">무료배송</span>
                            <span>내일(8/1, 목 오전 7시 전) 도착</span>
                        </P>
                        <P>
                            <span class="right">기본배송지 기준</span>
                        </P>
                    </div>
                    <!-- <div>
                    </div>
                    <div>
                    </div> -->
                    <div class="container">
                        <button class="btn-type1 btn open-btn" type="button">
                            <i class="fa-solid fa-location-dot"></i>
                            매장 재고·위치
                        </button>
                    </div>
    
                    <div class="modal-container">
                        <div class="modal">
                            <div class="content">
                                <div class="text-wrap">
                                    <h2>당신이 누군가를 죽였다</h2>
                                    <table class="center_inventory">
                                        <thead>
                                            <tr>
                                                <th style="width: 20%;">지점명</th>
                                                <th style="width: 65%;">주소</th>
                                                <th style="width: 15%;">재고 수량</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>지점명1</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>100개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명2</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>205개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명3</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>153개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명4</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>42개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명5</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>16개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명6</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>99개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명7</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>87개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명8</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>64개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명9</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>71개</td>
                                            </tr>
                                            <tr>
                                                <td>지점명10</td>
                                                <td>서울특별시 영등포구 선유동2로 57 이레빌딩1</td>
                                                <td>7개</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <ul style="display: none;">
                                        <li>
                                            <h2>당신이 누군가를 죽였다</h2>
                                        </li>
                                        <li>
                                            <span>지점명1</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>100개</span>
                                        </li>
                                        <li>
                                            <span>지점명2</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>205개</span>
                                        </li>
                                        <li>
                                            <span>지점명3</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>153개</span>
                                        </li>
                                        <li>
                                            <span>지점명4</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>42개</span>
                                        </li>
                                        <li>
                                            <span>지점명5</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>16개</span>
                                        </li>
                                        <li>
                                            <span>지점명6</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>99개</span>
                                        </li>
                                        <li>
                                            <span>지점명7</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>87개</span>
                                        </li>
                                        <li>
                                            <span>지점명8</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>64개</span>
                                        </li>
                                        <li>
                                            <span>지점명9</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>71개</span>
                                        </li>
                                        <li>
                                            <span>지점명10</span>
                                            <span>서울특별시 영등포구 선유동2로 57 이레빌딩1</span>
                                            <span>7개</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <button class="close-btn">닫기</button>
                        </div>
                        <div class="dim-layer"></div>
                    </div>
                </div>
            </div>
            
            <div class="clear"></div>

            <hr>
            
            <div class="clear"></div>
            
            <div class="book-detail-img">
                <img src="/image/book-detail.jpg">
            </div>
            
            <div class="clear"></div>

            <hr>
            
            <div class="clear"></div>

            <div class="comment">
                <!-- 댓글 입력 -->
                <div class="inputCommentBox">
                    <form action="/book/insertBookComment" method="post">
                        <ul>
                            <li>
                                <!-- <span class="material-icons">account_box</span> -->
                                <span class="user-icon"><i class="fa-solid fa-circle-user"></i></span>
                            </li>
                            <li>
                                <input type="hidden" name="noticeCommentWriter" th:value="${session.member.memberId}">
                                <input type="hidden" name="noticeRef" th:value="${n.noticeNo}">
                                <div class="input-item">
                                    <textarea name="noticeCommentContent" placeholder="댓글을 입력하세요!"></textarea>
                                </div>
                            </li>
                            <li>
                                <button class="btn-point" type="submit">등록</button>
                            </li>
                        </ul>
                    </form>
                </div>
                <!-- 댓글 출력 -->
                <div class="commentBox">
                    <th:block th:each="nc : ${n.commentList}">
                        <ul class="posting-comment">
                            <li>
                                <!-- <span class="material-icons">account_box</span> -->
                                <span class="user-icon"><i class="fa-solid fa-circle-user"></i></span>
                            </li>
                            <li>
                                <p class="comment-info">
                                    <span th:text="${nc.noticeCommentWriter}"></span>
                                    <span th:text="${nc.noticeCommentDate}"></span>
                                    <span class="like-box">
                                        <!-- <span class="heart-icon" th:onclick="likePush(this, [[${nc.noticeCommentNo}]]);"><i class="fa-solid fa-heart"></i></span>
                                        <span class="heart-icon" th:onclick="likePush(this, [[${nc.noticeCommentNo}]]);"><i class="fa-regular fa-heart"></i></span> -->
                                        <span th:if="${nc.isLike == 1}" class="material-icons heart-icon" th:onclick="likePush(this, [[${nc.noticeCommentNo}]]);">thumb_up_alt</span>
                                        <span th:if="${nc.isLike == 0}" class="material-icons heart-icon" th:onclick="likePush(this, [[${nc.noticeCommentNo}]]);">thumb_up_off_alt</span>
                                        <span th:text="${nc.likeCount}"></span>
                                    </span>
                                </p>
                                <p class="comment-content" th:text="${nc.noticeCommentContent}"></p>
                                <div style="display: none;" class="input-item">
                                    <textarea name="noticeCommentContent" th:text="${nc.noticeCommentContent}"></textarea>
                                </div>
                                <p class="comment-link">
                                    <th:block th:if="${session.member != null}">
                                        <th:block th:if="${session.member.memberId == nc.noticeCommentWriter}">
                                            <a href="javascript:void(0)" th:onclick="modifyComment(this, [[${nc.noticeCommentNo}]], [[${n.noticeNo}]]);">수정</a>
                                            <a href="javascript:void(0)" th:onclick="deleteComment(this, [[${nc.noticeCommentNo}]], [[${n.noticeNo}]]);">삭제</a>
                                        </th:block>
                                        <a class="recShow" href="javascript:void(0)">답글달기</a>
                                    </th:block>
                                </p>
                            </li>
                        </ul>
                        <!-- 대댓글 작성 양식 -->
                        <div th:if="${session.member != null}" class="inputCommentBox inputRecommentBox">
                            <form action="/notice/insertComment" method="post">
                                <ul>
                                    <li>
                                        <!-- <span class="material-icons">subdirectory_arrow_right</span> -->
                                        <span class="comment-icon"><i class="fa-solid fa-arrow-turn-up"></i></span>
                                    </li>
                                    <li>
                                        <input type="hidden" name="noticeCommentWriter" th:value="${session.member.memberId}">
                                        <input type="hidden" name="noticeRef" th:value="${n.noticeNo}">
                                        <input type="hidden" name="noticeCommentRef" th:value="${nc.noticeCommentNo}">
                                        <div class="input-item">
                                            <textarea name="noticeCommentContent"></textarea>
                                        </div>
                                    </li>
                                    <li>
                                        <button class="btn-point" type="submit">등록</button>
                                    </li>
                                </ul>
                            </form>
                        </div>
                        <!-- 출력한 댓글의 대댓글 출력 -->
                        <ul class="posting-comment reply" th:each="ncc : ${n.reCommentList}" th:if="${nc.noticeCommentNo == ncc.noticeCommentRef}">
                            <li>
                                <span style="margin-right: 20px;" class="comment-icon"><i class="fa-solid fa-arrow-turn-up"></i></span>
                                <span class="user-icon"><i class="fa-solid fa-circle-user"></i></span>
                            </li>
                            <li>
                                <p class="comment-info">
                                    <span th:text="${ncc.noticeCommentWriter}"></span>
                                    <span th:text="${ncc.noticeCommentDate}"></span>
                                    <span class="like-box">
                                        <!-- <span class="heart-icon" th:onclick="likePush(this, [[${nc.noticeCommentNo}]]);"><i class="fa-solid fa-heart"></i></span>
                                        <span class="heart-icon" th:onclick="likePush(this, [[${nc.noticeCommentNo}]]);"><i class="fa-regular fa-heart"></i></span> -->
                                        <span th:if="${ncc.isLike == 1}" class="material-icons heart-icon" th:onclick="likePush(this, [[${ncc.noticeCommentNo}]]);">thumb_up_alt</span>
                                        <span th:if="${ncc.isLike == 0}" class="material-icons heart-icon" th:onclick="likePush(this, [[${ncc.noticeCommentNo}]]);">thumb_up_off_alt</span>
                                        <span th:text="${ncc.likeCount}"></span>
                                    </span>
                                </p>
                                <p class="comment-content" th:text="${ncc.noticeCommentContent}"></p>
                                <div style="display: none;" class="input-item">
                                    <textarea name="noticeCommentContent" th:text="${ncc.noticeCommentContent}"></textarea>
                                </div>
                                <p class="comment-link">
                                    <th:block th:if="${session.member != null && session.member.memberId == ncc.noticeCommentWriter}">
                                        <a href="javascript:void(0)" th:onclick="modifyComment(this, [[${ncc.noticeCommentNo}]], [[${n.noticeNo}]])">수정</a>
                                        <a href="javascript:void(0)" th:onclick="deleteComment(this, [[${ncc.noticeCommentNo}]], [[${n.noticeNo}]])">삭제</a>
                                    </th:block>
                                </p>
                            </li>
                        </ul>
                    </th:block>
                </div>
            </div>
            
            <div class="clear"></div>

            <div class="buy-info">
                <div class="inner">
                    <div class="price-info">
                        <span>총 상품 금액</span>
                        <span class="price">19,800원</span>
                    </div>
                    <div class="bottom-btnBox">
                        <button class="btn-type1 btn"><span><i class="fa-solid fa-gift"></i></span>선물하기</button>
                        <button class="btn-type2 btn">장바구니</button>
                        <button class="btn-type3 btn">바로구매</button>
                    </div>
                </div>
            </div>
            
            <div class="clear"></div>
        </div>
    </main>

	<th:block th:include="common/footer"></th:block>
</body>
</html>